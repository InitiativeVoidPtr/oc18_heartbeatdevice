<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PAL: C:/work/PAL/zolFull/mbed-client-pal/Source/Port/Reference-Impl/mbedOS/Update/pal_plat_update.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PAL
   </div>
   <div id="projectbrief">A Platform Abstraction Layer connects the mbed-client with the underlying platform.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="../../dir_0bf78cffa0901bd3b5cb7be7888aabc9.html">Port</a></li><li class="navelem"><a class="el" href="../../dir_c08386f3c1aee312ced83a5951d11ed6.html">Reference-Impl</a></li><li class="navelem"><a class="el" href="../../dir_7b7fa73f1a1b36d6dab78f50bb89ca7b.html">mbedOS</a></li><li class="navelem"><a class="el" href="../../dir_e0c4a7f8a7dec467104a1fe0064ec60f.html">Update</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pal_plat_update.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d2/d47/pal__plat__update_8h_source.html">pal_plat_update.h</a>&quot;</code><br />
<code>#include &quot;crc.h&quot;</code><br />
<code>#include &lt;mbed.h&gt;</code><br />
<code>#include &lt;flash-journal-strategy-sequential/flash_journal_strategy_sequential.h&gt;</code><br />
<code>#include &lt;storage-volume-manager/storage_volume_manager.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa4e05c8dbea6df808259b1adeff368df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aa4e05c8dbea6df808259b1adeff368df">PAL_UPDATE_JOURNAL_SIZE</a>&#160;&#160;&#160;0x80000UL</td></tr>
<tr class="separator:aa4e05c8dbea6df808259b1adeff368df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ea4a279fb4c7322e7eedde623a868e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a44ea4a279fb4c7322e7eedde623a868e">PAL_UPDATE_JOURNAL_START_OFFSET</a>&#160;&#160;&#160;0x80000UL</td></tr>
<tr class="separator:a44ea4a279fb4c7322e7eedde623a868e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38372cedac04192680fb4b532e1dcaed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a38372cedac04192680fb4b532e1dcaed">PAL_UPDATE_ACTIVE_METADATA_HEADER_OFFSET</a>&#160;&#160;&#160;0x80000UL</td></tr>
<tr class="separator:a38372cedac04192680fb4b532e1dcaed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30455a95b24a21e7ef22e021d7b530bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a30455a95b24a21e7ef22e021d7b530bf">SIZEOF_SHA256</a>&#160;&#160;&#160;256/8</td></tr>
<tr class="separator:a30455a95b24a21e7ef22e021d7b530bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9762be6170804525a2b45df94fd9293c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a9762be6170804525a2b45df94fd9293c">FIRMWARE_HEADER_MAGIC</a>&#160;&#160;&#160;0x5a51b3d4UL</td></tr>
<tr class="separator:a9762be6170804525a2b45df94fd9293c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3abc5e3f32ad8114e385a7b137a602d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af3abc5e3f32ad8114e385a7b137a602d">FIRMWARE_HEADER_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:af3abc5e3f32ad8114e385a7b137a602d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad53f6cbdcb10beae7d1bdf6a79d2a48f"><td class="memItemLeft" align="right" valign="top">typedef struct FirmwareHeader&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#ad53f6cbdcb10beae7d1bdf6a79d2a48f">FirmwareHeader_t</a></td></tr>
<tr class="separator:ad53f6cbdcb10beae7d1bdf6a79d2a48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af6eff2fe90d3ca8092902993dd53a3b0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af6eff2fe90d3ca8092902993dd53a3b0">pal_pi_mbed_fsm_t</a> { <br />
&#160;&#160;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af6eff2fe90d3ca8092902993dd53a3b0a5cf2a95bc6f4d8a51a6cf0aea1d58033">PAL_PI_MBED_FSM_NONE</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af6eff2fe90d3ca8092902993dd53a3b0a772f4a05fd47853ef0790561efde3a13">PAL_PI_MBED_FSM_SETUP</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af6eff2fe90d3ca8092902993dd53a3b0a8fc3ba51ba4cd0da9e48180e03aaa8dd">PAL_PI_MBED_FSM_WRITE</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af6eff2fe90d3ca8092902993dd53a3b0a07be41f5418b0058409c8bde84807ca9">PAL_PI_MBED_FSM_READ</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af6eff2fe90d3ca8092902993dd53a3b0aaa504471738039669d93625c9406d05f">PAL_PI_MBED_FSM_COMMIT</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af6eff2fe90d3ca8092902993dd53a3b0a7bec3fd0760122a3079c0a792cde5362">PAL_PI_MBED_FSM_GETACTIVEHASH</a>
<br />
 }</td></tr>
<tr class="separator:af6eff2fe90d3ca8092902993dd53a3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176daf5f8b17cca4c81a449fdf7929e4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a176daf5f8b17cca4c81a449fdf7929e4">pal_pi_mbed_getativehash_state_t</a> { <br />
&#160;&#160;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a176daf5f8b17cca4c81a449fdf7929e4a49c1eaa2e62d6a0a52e6757b9a84c6de">PAL_PI_GETATIVEHASH_UNINITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a176daf5f8b17cca4c81a449fdf7929e4a8a7e22eb2ed8c53a075b03f5105127d1">PAL_PI_GETATIVEHASH_VOLUME_MANAGER_INITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a176daf5f8b17cca4c81a449fdf7929e4a2b2b81919197445bf8f8124c16e6fefb">PAL_PI_GETATIVEHASH_STORAGE_DRIVER_INITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a176daf5f8b17cca4c81a449fdf7929e4a9b3aeae8375b10e62d6ed9eec032e1b6">PAL_PI_GETATIVEHASH_DONE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a176daf5f8b17cca4c81a449fdf7929e4aa1ce360c32e0ce97d762ebc09f00ffc2">PAL_PI_GETATIVEHASH_ERROR</a>
<br />
 }</td></tr>
<tr class="separator:a176daf5f8b17cca4c81a449fdf7929e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6cd7eb99781c3e521d223f31eb85d4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a4c6cd7eb99781c3e521d223f31eb85d4">pal_pi_mbed_setup_state_t</a> { <br />
&#160;&#160;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a4c6cd7eb99781c3e521d223f31eb85d4a4f3b72371167ccaa8ce733cb24ca6c1d">PAL_PI_SETUP_UNINITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a4c6cd7eb99781c3e521d223f31eb85d4ae464fa95827d6a705b47c3d078448c86">PAL_PI_SETUP_VOLUME_MANAGER_INITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a4c6cd7eb99781c3e521d223f31eb85d4a1e88752d489258b3ed3e8fd74a906b8c">PAL_PI_SETUP_STORAGE_DRIVER_INITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a4c6cd7eb99781c3e521d223f31eb85d4a5fcdac218b94e7828e37cea02b287e8f">PAL_PI_SETUP_DONE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a4c6cd7eb99781c3e521d223f31eb85d4a8aa67fddbf4a8a17f86d450d94dd1657">PAL_PI_SETUP_ERROR</a> = -1
<br />
 }</td></tr>
<tr class="separator:a4c6cd7eb99781c3e521d223f31eb85d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea34e881864ec5991b8f41d4db2f20d6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aea34e881864ec5991b8f41d4db2f20d6">pal_pi_mbed_read_state_t</a> { <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aea34e881864ec5991b8f41d4db2f20d6a5051dc71cfb98868baf2019cad9145c9">PAL_PI_READ_SKIP_METADATA</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aea34e881864ec5991b8f41d4db2f20d6affb00f509bebfc9107a3704e8153fe8a">PAL_PI_READ_UNINITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aea34e881864ec5991b8f41d4db2f20d6a83af438c78b1a2f3296100142477bb57">PAL_PI_READ_DONE</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aea34e881864ec5991b8f41d4db2f20d6a70b722a803e391eadfb77cb1c09f73ac">PAL_PI_READ_ERROR</a>
 }</td></tr>
<tr class="separator:aea34e881864ec5991b8f41d4db2f20d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e95f6ee79a2062ac9b4ab62ac7a6494"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a3e95f6ee79a2062ac9b4ab62ac7a6494">pal_pi_mbed_commit_state_t</a> { <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a3e95f6ee79a2062ac9b4ab62ac7a6494ac2483588945dc3f18198c750cb264bb7">PAL_PI_COMMIT_UNINITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a3e95f6ee79a2062ac9b4ab62ac7a6494a1c3902a003be99166f2fa06f375a58f8">PAL_PI_COMMIT_RESIDUAL_LOGGED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a3e95f6ee79a2062ac9b4ab62ac7a6494a37684be839e05d3fd45c79fc6f280ccb">PAL_PI_COMMIT_DONE</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a3e95f6ee79a2062ac9b4ab62ac7a6494a9732b652f3707bddc2dd9f011f81316e">PAL_PI_COMMIT_ERROR</a>
 }</td></tr>
<tr class="separator:a3e95f6ee79a2062ac9b4ab62ac7a6494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf088d926918e852b1eebfaff80e133"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#afbf088d926918e852b1eebfaff80e133">pal_pi_mbed_write_state_t</a> { <br />
&#160;&#160;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#afbf088d926918e852b1eebfaff80e133a03d1c45616dab53a1f70519e0e1842a3">PAL_PI_WRITE_UNINITIALIZED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#afbf088d926918e852b1eebfaff80e133af7552fc42b2f4c2e8dab529e705c1aa5">PAL_PI_WRITE_METADATA_LOGGED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#afbf088d926918e852b1eebfaff80e133ad6189a3b8a082992de381bcadb5b632c">PAL_PI_WRITE_RESIDUAL_LOGGED</a>, 
<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#afbf088d926918e852b1eebfaff80e133ab73cc7d38e31a075d76deb06a633b905">PAL_PI_WRITE_DONE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#afbf088d926918e852b1eebfaff80e133a570a8ce15806e78709bc46db4d8d524b">PAL_PI_WRITE_ERROR</a>
<br />
 }</td></tr>
<tr class="separator:afbf088d926918e852b1eebfaff80e133"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a632d90687b332ec52acf7f2361fd677b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a632d90687b332ec52acf7f2361fd677b">PAL_PI_MBED_journal_callbackHandler</a> (int32_t status, FlashJournal_OpCode_t cmd_code)</td></tr>
<tr class="separator:a632d90687b332ec52acf7f2361fd677b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affbf3a34b064837cbffa57ea03608ab1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#affbf3a34b064837cbffa57ea03608ab1">PAL_PI_MBED_journalMTD_callbackHandler</a> (int32_t status, ARM_STORAGE_OPERATION operation)</td></tr>
<tr class="separator:affbf3a34b064837cbffa57ea03608ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c4ab554059ee9d9a4c09f1e205f18f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#ad1c4ab554059ee9d9a4c09f1e205f18f">PAL_PI_MBED_volumeManager_initializeCallbackHandler</a> (int32_t status)</td></tr>
<tr class="separator:ad1c4ab554059ee9d9a4c09f1e205f18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9492bd4207f64185e224edc41b92a7"><td class="memItemLeft" align="right" valign="top">ARM_DRIVER_STORAGE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a6f9492bd4207f64185e224edc41b92a7">ARM_Driver_Storage_</a> (0)</td></tr>
<tr class="separator:a6f9492bd4207f64185e224edc41b92a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae5619ca2f906c0525a5e94abc844fae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aae5619ca2f906c0525a5e94abc844fae">PAL_PI_MBED_Setup_StateMachine_Enter</a> ()</td></tr>
<tr class="separator:aae5619ca2f906c0525a5e94abc844fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a10f6d348c44271256ce351332a1545"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a0a10f6d348c44271256ce351332a1545">PAL_PI_MBED_Setup_StateMachine_Advance</a> (int32_t status)</td></tr>
<tr class="separator:a0a10f6d348c44271256ce351332a1545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39cf7e2ef5b8f65f1044b68527563d0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a39cf7e2ef5b8f65f1044b68527563d0f">PAL_PI_MBED_Write_StateMachine_Enter</a> (int32_t status)</td></tr>
<tr class="separator:a39cf7e2ef5b8f65f1044b68527563d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2294ef45a3a4e30cd1744bb99a717a46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a2294ef45a3a4e30cd1744bb99a717a46">PAL_PI_MBED_Write_StateMachine_Advance</a> (int32_t status)</td></tr>
<tr class="separator:a2294ef45a3a4e30cd1744bb99a717a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb42b35dc018f8357ea253b39b51016"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aadb42b35dc018f8357ea253b39b51016">PAL_PI_MBED_Read_StateMachine_Enter</a> ()</td></tr>
<tr class="separator:aadb42b35dc018f8357ea253b39b51016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd4ce1b11218bf2b4bea9d1d26d148eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#afd4ce1b11218bf2b4bea9d1d26d148eb">PAL_PI_MBED_Read_StateMachine_Advance</a> (int32_t status)</td></tr>
<tr class="separator:afd4ce1b11218bf2b4bea9d1d26d148eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a7120931f8aae54f5cb63431718fa1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a47a7120931f8aae54f5cb63431718fa1">PAL_PI_MBED_Commit_StateMachine_Enter</a> ()</td></tr>
<tr class="separator:a47a7120931f8aae54f5cb63431718fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b615289b1b228eb37ed16a7a3d97e3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a2b615289b1b228eb37ed16a7a3d97e3a">PAL_PI_MBED_Commit_StateMachine_Advance</a> (int32_t status)</td></tr>
<tr class="separator:a2b615289b1b228eb37ed16a7a3d97e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3184f4433c02437d70307b21bc755cb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a3184f4433c02437d70307b21bc755cb8">pal_plat_imageInitAPI</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a9ac73ac0e2421507424182ebaffc8b21">palImageSignalEvent_t</a> CBfunction)</td></tr>
<tr class="separator:a3184f4433c02437d70307b21bc755cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9974172099eb04fa008b12c6432e832a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a9974172099eb04fa008b12c6432e832a">pal_plat_imageDeInit</a> (void)</td></tr>
<tr class="separator:a9974172099eb04fa008b12c6432e832a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459d4051428d92cf6e0d960b198c87d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a459d4051428d92cf6e0d960b198c87d3">pal_plat_imageGetMaxNumberOfImages</a> (uint8_t *imageNumber)</td></tr>
<tr class="separator:a459d4051428d92cf6e0d960b198c87d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90614195d6390f9cffb77e840c1eca0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a90614195d6390f9cffb77e840c1eca0e">pal_plat_imageSetVersion</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *version)</td></tr>
<tr class="separator:a90614195d6390f9cffb77e840c1eca0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bdb18ea6bbad040310007e1c7dad52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a04bdb18ea6bbad040310007e1c7dad52">pal_plat_imageGetDirectMemAccess</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, void **imagePtr, size_t *imageSizeInBytes)</td></tr>
<tr class="separator:a04bdb18ea6bbad040310007e1c7dad52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0975a4b263074cd29ad2c048bd65fc57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a0975a4b263074cd29ad2c048bd65fc57">pal_plat_imageActivate</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId)</td></tr>
<tr class="separator:a0975a4b263074cd29ad2c048bd65fc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3bb3231669b76fbb25bbd6698a88792"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af3bb3231669b76fbb25bbd6698a88792">PAL_PI_MBED_GetAtiveHash_StateMachine</a> ()</td></tr>
<tr class="separator:af3bb3231669b76fbb25bbd6698a88792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13dee681c787b26269df36464a114bf9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a13dee681c787b26269df36464a114bf9">pal_plat_imageGetActiveHash</a> (<a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *hash)</td></tr>
<tr class="separator:a13dee681c787b26269df36464a114bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3002ca0559fa4a266f8ff7f10a653e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aac3002ca0559fa4a266f8ff7f10a653e">pal_plat_imageGetActiveVersion</a> (<a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *version)</td></tr>
<tr class="separator:aac3002ca0559fa4a266f8ff7f10a653e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c15f74e8d3e11e449531e41d39e20a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a66c15f74e8d3e11e449531e41d39e20a">pal_plat_imageWriteHashToMemory</a> (const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *const hashValue)</td></tr>
<tr class="separator:a66c15f74e8d3e11e449531e41d39e20a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5086927381d43a2ec2818209b20c2261"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a5086927381d43a2ec2818209b20c2261">pal_plat_imageSetHeader</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, <a class="el" href="../../dd/df9/pal__update_8h.html#a224fe03733bd8a2e5476357be9b74ee6">palImageHeaderDeails_t</a> *details)</td></tr>
<tr class="separator:a5086927381d43a2ec2818209b20c2261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a811ed8f4fff3a8f5317de00198ca4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#ab5a811ed8f4fff3a8f5317de00198ca4">pal_plat_imageReserveSpace</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, size_t imageSize)</td></tr>
<tr class="separator:ab5a811ed8f4fff3a8f5317de00198ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7cba922f992a315f79a4bb253b26216"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aa7cba922f992a315f79a4bb253b26216">PAL_PI_MBED_Write_LogResidual</a> ()</td></tr>
<tr class="separator:aa7cba922f992a315f79a4bb253b26216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c3c91cf0da39abb1a4a50ff089936f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#ad6c3c91cf0da39abb1a4a50ff089936f">pal_plat_imageWrite</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, size_t offset, <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *chunk)</td></tr>
<tr class="separator:ad6c3c91cf0da39abb1a4a50ff089936f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea8421acb807fa8f769be11d3d24e7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a1ea8421acb807fa8f769be11d3d24e7c">pal_plat_imageReadToBuffer</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, size_t offset, <a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *chunk)</td></tr>
<tr class="separator:a1ea8421acb807fa8f769be11d3d24e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac43c37ca09395eaef46ac9c48747dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a2ac43c37ca09395eaef46ac9c48747dc">pal_plat_imageFlush</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> package_id)</td></tr>
<tr class="separator:a2ac43c37ca09395eaef46ac9c48747dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a531aff6f188904a2cfc794770ffad311"><td class="memItemLeft" align="right" valign="top">FlashJournal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a531aff6f188904a2cfc794770ffad311">pal_pi_mbed_journal</a></td></tr>
<tr class="separator:a531aff6f188904a2cfc794770ffad311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120116f585e123cb4c022cae715a5b8f"><td class="memItemLeft" align="right" valign="top">FlashJournal_Info_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a120116f585e123cb4c022cae715a5b8f">pal_pi_mbed_journal_info</a></td></tr>
<tr class="separator:a120116f585e123cb4c022cae715a5b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5a953cdba2ddaab784ef9696d0de02"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aba5a953cdba2ddaab784ef9696d0de02">pal_pi_mbed_overflow_buffer</a></td></tr>
<tr class="separator:aba5a953cdba2ddaab784ef9696d0de02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b830d51e5d967bf3b36e6a25fe39ebb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a3b830d51e5d967bf3b36e6a25fe39ebb">pal_pi_mbed_overflow_buffer_size</a> = 0</td></tr>
<tr class="separator:a3b830d51e5d967bf3b36e6a25fe39ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735a834fc7071baefe08266ad9029da5"><td class="memItemLeft" align="right" valign="top">ARM_DRIVER_STORAGE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a735a834fc7071baefe08266ad9029da5">mtd</a> = &amp;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a6f9492bd4207f64185e224edc41b92a7">ARM_Driver_Storage_</a>(0)</td></tr>
<tr class="separator:a735a834fc7071baefe08266ad9029da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a3810ba98c634252b033b78dff47f69"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a0a3810ba98c634252b033b78dff47f69">pal_pi_mbed_metadata_logged</a></td></tr>
<tr class="separator:a0a3810ba98c634252b033b78dff47f69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a9762be6170804525a2b45df94fd9293c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRMWARE_HEADER_MAGIC&#160;&#160;&#160;0x5a51b3d4UL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af3abc5e3f32ad8114e385a7b137a602d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRMWARE_HEADER_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a38372cedac04192680fb4b532e1dcaed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAL_UPDATE_ACTIVE_METADATA_HEADER_OFFSET&#160;&#160;&#160;0x80000UL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa4e05c8dbea6df808259b1adeff368df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAL_UPDATE_JOURNAL_SIZE&#160;&#160;&#160;0x80000UL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a44ea4a279fb4c7322e7eedde623a868e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAL_UPDATE_JOURNAL_START_OFFSET&#160;&#160;&#160;0x80000UL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a30455a95b24a21e7ef22e021d7b530bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIZEOF_SHA256&#160;&#160;&#160;256/8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ad53f6cbdcb10beae7d1bdf6a79d2a48f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct FirmwareHeader  <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#ad53f6cbdcb10beae7d1bdf6a79d2a48f">FirmwareHeader_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a3e95f6ee79a2062ac9b4ab62ac7a6494"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a3e95f6ee79a2062ac9b4ab62ac7a6494">pal_pi_mbed_commit_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a3e95f6ee79a2062ac9b4ab62ac7a6494ac2483588945dc3f18198c750cb264bb7"></a>PAL_PI_COMMIT_UNINITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3e95f6ee79a2062ac9b4ab62ac7a6494a1c3902a003be99166f2fa06f375a58f8"></a>PAL_PI_COMMIT_RESIDUAL_LOGGED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3e95f6ee79a2062ac9b4ab62ac7a6494a37684be839e05d3fd45c79fc6f280ccb"></a>PAL_PI_COMMIT_DONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3e95f6ee79a2062ac9b4ab62ac7a6494a9732b652f3707bddc2dd9f011f81316e"></a>PAL_PI_COMMIT_ERROR&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="af6eff2fe90d3ca8092902993dd53a3b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#af6eff2fe90d3ca8092902993dd53a3b0">pal_pi_mbed_fsm_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="af6eff2fe90d3ca8092902993dd53a3b0a5cf2a95bc6f4d8a51a6cf0aea1d58033"></a>PAL_PI_MBED_FSM_NONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af6eff2fe90d3ca8092902993dd53a3b0a772f4a05fd47853ef0790561efde3a13"></a>PAL_PI_MBED_FSM_SETUP&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af6eff2fe90d3ca8092902993dd53a3b0a8fc3ba51ba4cd0da9e48180e03aaa8dd"></a>PAL_PI_MBED_FSM_WRITE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af6eff2fe90d3ca8092902993dd53a3b0a07be41f5418b0058409c8bde84807ca9"></a>PAL_PI_MBED_FSM_READ&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af6eff2fe90d3ca8092902993dd53a3b0aaa504471738039669d93625c9406d05f"></a>PAL_PI_MBED_FSM_COMMIT&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af6eff2fe90d3ca8092902993dd53a3b0a7bec3fd0760122a3079c0a792cde5362"></a>PAL_PI_MBED_FSM_GETACTIVEHASH&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a176daf5f8b17cca4c81a449fdf7929e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a176daf5f8b17cca4c81a449fdf7929e4">pal_pi_mbed_getativehash_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a176daf5f8b17cca4c81a449fdf7929e4a49c1eaa2e62d6a0a52e6757b9a84c6de"></a>PAL_PI_GETATIVEHASH_UNINITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a176daf5f8b17cca4c81a449fdf7929e4a8a7e22eb2ed8c53a075b03f5105127d1"></a>PAL_PI_GETATIVEHASH_VOLUME_MANAGER_INITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a176daf5f8b17cca4c81a449fdf7929e4a2b2b81919197445bf8f8124c16e6fefb"></a>PAL_PI_GETATIVEHASH_STORAGE_DRIVER_INITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a176daf5f8b17cca4c81a449fdf7929e4a9b3aeae8375b10e62d6ed9eec032e1b6"></a>PAL_PI_GETATIVEHASH_DONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a176daf5f8b17cca4c81a449fdf7929e4aa1ce360c32e0ce97d762ebc09f00ffc2"></a>PAL_PI_GETATIVEHASH_ERROR&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="aea34e881864ec5991b8f41d4db2f20d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#aea34e881864ec5991b8f41d4db2f20d6">pal_pi_mbed_read_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="aea34e881864ec5991b8f41d4db2f20d6a5051dc71cfb98868baf2019cad9145c9"></a>PAL_PI_READ_SKIP_METADATA&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aea34e881864ec5991b8f41d4db2f20d6affb00f509bebfc9107a3704e8153fe8a"></a>PAL_PI_READ_UNINITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aea34e881864ec5991b8f41d4db2f20d6a83af438c78b1a2f3296100142477bb57"></a>PAL_PI_READ_DONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aea34e881864ec5991b8f41d4db2f20d6a70b722a803e391eadfb77cb1c09f73ac"></a>PAL_PI_READ_ERROR&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a4c6cd7eb99781c3e521d223f31eb85d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a4c6cd7eb99781c3e521d223f31eb85d4">pal_pi_mbed_setup_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a4c6cd7eb99781c3e521d223f31eb85d4a4f3b72371167ccaa8ce733cb24ca6c1d"></a>PAL_PI_SETUP_UNINITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4c6cd7eb99781c3e521d223f31eb85d4ae464fa95827d6a705b47c3d078448c86"></a>PAL_PI_SETUP_VOLUME_MANAGER_INITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4c6cd7eb99781c3e521d223f31eb85d4a1e88752d489258b3ed3e8fd74a906b8c"></a>PAL_PI_SETUP_STORAGE_DRIVER_INITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4c6cd7eb99781c3e521d223f31eb85d4a5fcdac218b94e7828e37cea02b287e8f"></a>PAL_PI_SETUP_DONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4c6cd7eb99781c3e521d223f31eb85d4a8aa67fddbf4a8a17f86d450d94dd1657"></a>PAL_PI_SETUP_ERROR&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="afbf088d926918e852b1eebfaff80e133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#afbf088d926918e852b1eebfaff80e133">pal_pi_mbed_write_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="afbf088d926918e852b1eebfaff80e133a03d1c45616dab53a1f70519e0e1842a3"></a>PAL_PI_WRITE_UNINITIALIZED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afbf088d926918e852b1eebfaff80e133af7552fc42b2f4c2e8dab529e705c1aa5"></a>PAL_PI_WRITE_METADATA_LOGGED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afbf088d926918e852b1eebfaff80e133ad6189a3b8a082992de381bcadb5b632c"></a>PAL_PI_WRITE_RESIDUAL_LOGGED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afbf088d926918e852b1eebfaff80e133ab73cc7d38e31a075d76deb06a633b905"></a>PAL_PI_WRITE_DONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afbf088d926918e852b1eebfaff80e133a570a8ce15806e78709bc46db4d8d524b"></a>PAL_PI_WRITE_ERROR&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a6f9492bd4207f64185e224edc41b92a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ARM_DRIVER_STORAGE ARM_Driver_Storage_ </td>
          <td>(</td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2b615289b1b228eb37ed16a7a3d97e3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PAL_PI_MBED_Commit_StateMachine_Advance </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a47a7120931f8aae54f5cb63431718fa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PAL_PI_MBED_Commit_StateMachine_Enter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af3bb3231669b76fbb25bbd6698a88792"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PAL_PI_MBED_GetAtiveHash_StateMachine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a632d90687b332ec52acf7f2361fd677b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PAL_PI_MBED_journal_callbackHandler </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FlashJournal_OpCode_t&#160;</td>
          <td class="paramname"><em>cmd_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="affbf3a34b064837cbffa57ea03608ab1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PAL_PI_MBED_journalMTD_callbackHandler </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ARM_STORAGE_OPERATION&#160;</td>
          <td class="paramname"><em>operation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afd4ce1b11218bf2b4bea9d1d26d148eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PAL_PI_MBED_Read_StateMachine_Advance </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aadb42b35dc018f8357ea253b39b51016"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PAL_PI_MBED_Read_StateMachine_Enter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0a10f6d348c44271256ce351332a1545"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PAL_PI_MBED_Setup_StateMachine_Advance </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aae5619ca2f906c0525a5e94abc844fae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PAL_PI_MBED_Setup_StateMachine_Enter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad1c4ab554059ee9d9a4c09f1e205f18f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PAL_PI_MBED_volumeManager_initializeCallbackHandler </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa7cba922f992a315f79a4bb253b26216"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PAL_PI_MBED_Write_LogResidual </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2294ef45a3a4e30cd1744bb99a717a46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PAL_PI_MBED_Write_StateMachine_Advance </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a39cf7e2ef5b8f65f1044b68527563d0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PAL_PI_MBED_Write_StateMachine_Enter </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0975a4b263074cd29ad2c048bd65fc57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageActivate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the imageId to be the active image (after device reset). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9974172099eb04fa008b12c6432e832a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageDeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear all the resources used by the pal_update APIs. </p><dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a2ac43c37ca09395eaef46ac9c48747dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageFlush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flush the entire image data after writing ends for imageId. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a13dee681c787b26269df36464a114bf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageGetActiveHash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the hash value of the active image to hash buffer with max size hash maxBufferLength, and set the hash bufferLength to the hash size. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">hash</td><td>The hash and actual size of hash read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aac3002ca0559fa4a266f8ff7f10a653e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageGetActiveVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the version of the active image to version buffer with the size set to version bufferLength. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">version</td><td>The version and actual size of version read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a04bdb18ea6bbad040310007e1c7dad52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageGetDirectMemAccess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>imagePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>imageSizeInBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verify whether the imageId is readable and set imagePtr to point to the beginning of the image in the memory and imageSizeInBytes to the image size. In case of failure sets imagePtr to NULL and returns the relevant palStatus_t error. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">imagePtr</td><td>A pointer to the start of the image. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">imageSizeInBytes</td><td>The size of the image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a459d4051428d92cf6e0d960b198c87d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageGetMaxNumberOfImages </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>imageNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the imageNumber to the number of available images. You can do this through hard coded define inside the linker script. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">imageNumber</td><td>The total number of images the system supports. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a3184f4433c02437d70307b21bc755cb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageInitAPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a9ac73ac0e2421507424182ebaffc8b21">palImageSignalEvent_t</a>&#160;</td>
          <td class="paramname"><em>CBfunction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the callback function that is called before the end of each API (except imageGetDirectMemAccess). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">CBfunction</td><td>A pointer to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a1ea8421acb807fa8f769be11d3d24e7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageReadToBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the max of chunk maxBufferLength bytes from the imageId with relative offset and store it in chunk buffer. Set the chunk bufferLength value to the actual number of bytes read. Note: Please use this API in case the image is not directly accessible via the imageGetDirectMemAccess function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset to start reading from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">chunk</td><td>The data and actual bytes read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab5a811ed8f4fff3a8f5317de00198ca4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageReserveSpace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>imageSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Claim space in the relevant storage region for imageId with the size of the image. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageSize</td><td>The size of the images. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a5086927381d43a2ec2818209b20c2261"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageSetHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a224fe03733bd8a2e5476357be9b74ee6">palImageHeaderDeails_t</a> *&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up the details for the image header. The data is written when the image write is called for the first time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">details</td><td>The data needed to build the image header. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a90614195d6390f9cffb77e840c1eca0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageSetVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the image version of imageId to version written in version buffer with version bufferLength. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">version</td><td>The image version and its length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ad6c3c91cf0da39abb1a4a50ff089936f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the data in the chunk buffer with the size written in chunk bufferLength in the location of imageId adding the relative offset. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>the relative offset to write the data into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk</td><td>A pointer to struct containing the data and the data length to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a66c15f74e8d3e11e449531e41d39e20a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageWriteHashToMemory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *const&#160;</td>
          <td class="paramname"><em>hashValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the dataId stored in dataBuffer to memory accessible to the bootloader. Currently, only HASH is available. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hashValue</td><td>The data and size of the HASH. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a735a834fc7071baefe08266ad9029da5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ARM_DRIVER_STORAGE* mtd = &amp;<a class="el" href="../../d3/d44/pal__plat__update_8cpp.html#a6f9492bd4207f64185e224edc41b92a7">ARM_Driver_Storage_</a>(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a531aff6f188904a2cfc794770ffad311"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FlashJournal_t pal_pi_mbed_journal</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a120116f585e123cb4c022cae715a5b8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FlashJournal_Info_t pal_pi_mbed_journal_info</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0a3810ba98c634252b033b78dff47f69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pal_pi_mbed_metadata_logged</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aba5a953cdba2ddaab784ef9696d0de02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* pal_pi_mbed_overflow_buffer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b830d51e5d967bf3b36e6a25fe39ebb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t pal_pi_mbed_overflow_buffer_size = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
