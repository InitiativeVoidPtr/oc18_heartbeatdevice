<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PAL: C:/work/PAL/zolFull/mbed-client-pal/Source/Port/Platform-API/pal_plat_update.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PAL
   </div>
   <div id="projectbrief">A Platform Abstraction Layer connects the mbed-client with the underlying platform.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="../../dir_0bf78cffa0901bd3b5cb7be7888aabc9.html">Port</a></li><li class="navelem"><a class="el" href="../../dir_21bbc5adf7d2637a4cb8a3cee979c96f.html">Platform-API</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pal_plat_update.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../dd/df9/pal__update_8h_source.html">pal_update.h</a>&quot;</code><br />
</div>
<p><a href="../../d2/d47/pal__plat__update_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3184f4433c02437d70307b21bc755cb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a3184f4433c02437d70307b21bc755cb8">pal_plat_imageInitAPI</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a9ac73ac0e2421507424182ebaffc8b21">palImageSignalEvent_t</a> CBfunction)</td></tr>
<tr class="separator:a3184f4433c02437d70307b21bc755cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9974172099eb04fa008b12c6432e832a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a9974172099eb04fa008b12c6432e832a">pal_plat_imageDeInit</a> (void)</td></tr>
<tr class="separator:a9974172099eb04fa008b12c6432e832a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459d4051428d92cf6e0d960b198c87d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a459d4051428d92cf6e0d960b198c87d3">pal_plat_imageGetMaxNumberOfImages</a> (uint8_t *imageNumber)</td></tr>
<tr class="separator:a459d4051428d92cf6e0d960b198c87d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a811ed8f4fff3a8f5317de00198ca4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#ab5a811ed8f4fff3a8f5317de00198ca4">pal_plat_imageReserveSpace</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, size_t imageSize)</td></tr>
<tr class="separator:ab5a811ed8f4fff3a8f5317de00198ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5086927381d43a2ec2818209b20c2261"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a5086927381d43a2ec2818209b20c2261">pal_plat_imageSetHeader</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, <a class="el" href="../../dd/df9/pal__update_8h.html#a224fe03733bd8a2e5476357be9b74ee6">palImageHeaderDeails_t</a> *details)</td></tr>
<tr class="separator:a5086927381d43a2ec2818209b20c2261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c3c91cf0da39abb1a4a50ff089936f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#ad6c3c91cf0da39abb1a4a50ff089936f">pal_plat_imageWrite</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, size_t offset, <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *chunk)</td></tr>
<tr class="separator:ad6c3c91cf0da39abb1a4a50ff089936f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90614195d6390f9cffb77e840c1eca0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a90614195d6390f9cffb77e840c1eca0e">pal_plat_imageSetVersion</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *version)</td></tr>
<tr class="separator:a90614195d6390f9cffb77e840c1eca0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c039c8331a9fb3444a209fc1de4cc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#af2c039c8331a9fb3444a209fc1de4cc3">pal_plat_imageFlush</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId)</td></tr>
<tr class="separator:af2c039c8331a9fb3444a209fc1de4cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bdb18ea6bbad040310007e1c7dad52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a04bdb18ea6bbad040310007e1c7dad52">pal_plat_imageGetDirectMemAccess</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, void **imagePtr, size_t *imageSizeInBytes)</td></tr>
<tr class="separator:a04bdb18ea6bbad040310007e1c7dad52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea8421acb807fa8f769be11d3d24e7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a1ea8421acb807fa8f769be11d3d24e7c">pal_plat_imageReadToBuffer</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, size_t offset, <a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *chunk)</td></tr>
<tr class="separator:a1ea8421acb807fa8f769be11d3d24e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0975a4b263074cd29ad2c048bd65fc57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a0975a4b263074cd29ad2c048bd65fc57">pal_plat_imageActivate</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId)</td></tr>
<tr class="separator:a0975a4b263074cd29ad2c048bd65fc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13dee681c787b26269df36464a114bf9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a13dee681c787b26269df36464a114bf9">pal_plat_imageGetActiveHash</a> (<a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *hash)</td></tr>
<tr class="separator:a13dee681c787b26269df36464a114bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3002ca0559fa4a266f8ff7f10a653e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#aac3002ca0559fa4a266f8ff7f10a653e">pal_plat_imageGetActiveVersion</a> (<a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *version)</td></tr>
<tr class="separator:aac3002ca0559fa4a266f8ff7f10a653e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c15f74e8d3e11e449531e41d39e20a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/pal__plat__update_8h.html#a66c15f74e8d3e11e449531e41d39e20a">pal_plat_imageWriteHashToMemory</a> (const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *const hashValue)</td></tr>
<tr class="separator:a66c15f74e8d3e11e449531e41d39e20a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0975a4b263074cd29ad2c048bd65fc57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageActivate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the imageId to be the active image (after device reset). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9974172099eb04fa008b12c6432e832a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageDeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear all the resources used by the pal_update APIs. </p><dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="af2c039c8331a9fb3444a209fc1de4cc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageFlush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flush the entire image data after writing ends for imageId. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a13dee681c787b26269df36464a114bf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageGetActiveHash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the hash value of the active image to hash buffer with max size hash maxBufferLength, and set the hash bufferLength to the hash size. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">hash</td><td>The hash and actual size of hash read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aac3002ca0559fa4a266f8ff7f10a653e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageGetActiveVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the version of the active image to version buffer with the size set to version bufferLength. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">version</td><td>The version and actual size of version read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a04bdb18ea6bbad040310007e1c7dad52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageGetDirectMemAccess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>imagePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>imageSizeInBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verify whether the imageId is readable and set imagePtr to point to the beginning of the image in the memory and imageSizeInBytes to the image size. In case of failure sets imagePtr to NULL and returns the relevant palStatus_t error. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">imagePtr</td><td>A pointer to the start of the image. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">imageSizeInBytes</td><td>The size of the image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a459d4051428d92cf6e0d960b198c87d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageGetMaxNumberOfImages </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>imageNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the imageNumber to the number of available images. You can do this through hard coded define inside the linker script. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">imageNumber</td><td>The total number of images the system supports. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a3184f4433c02437d70307b21bc755cb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageInitAPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a9ac73ac0e2421507424182ebaffc8b21">palImageSignalEvent_t</a>&#160;</td>
          <td class="paramname"><em>CBfunction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the callback function that is called before the end of each API (except imageGetDirectMemAccess). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">CBfunction</td><td>A pointer to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a1ea8421acb807fa8f769be11d3d24e7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageReadToBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the max of chunk maxBufferLength bytes from the imageId with relative offset and store it in chunk buffer. Set the chunk bufferLength value to the actual number of bytes read. Note: Please use this API in case the image is not directly accessible via the imageGetDirectMemAccess function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset to start reading from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">chunk</td><td>The data and actual bytes read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab5a811ed8f4fff3a8f5317de00198ca4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageReserveSpace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>imageSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Claim space in the relevant storage region for imageId with the size of the image. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageSize</td><td>The size of the images. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a5086927381d43a2ec2818209b20c2261"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageSetHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a224fe03733bd8a2e5476357be9b74ee6">palImageHeaderDeails_t</a> *&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up the details for the image header. The data is written when the image write is called for the first time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">details</td><td>The data needed to build the image header. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a90614195d6390f9cffb77e840c1eca0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageSetVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the image version of imageId to version written in version buffer with version bufferLength. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">version</td><td>The image version and its length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ad6c3c91cf0da39abb1a4a50ff089936f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the data in the chunk buffer with the size written in chunk bufferLength in the location of imageId adding the relative offset. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>The image ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>the relative offset to write the data into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk</td><td>A pointer to struct containing the data and the data length to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status in the form of palStatus_t; <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success, a negative value indicating a specific error code in case of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a66c15f74e8d3e11e449531e41d39e20a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_plat_imageWriteHashToMemory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *const&#160;</td>
          <td class="paramname"><em>hashValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the dataId stored in dataBuffer to memory accessible to the bootloader. Currently, only HASH is available. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hashValue</td><td>The data and size of the HASH. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
